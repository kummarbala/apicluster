<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Apicluster by ramsunvtech</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Apicluster</h1>
          <h2>API Endpoint Library - </h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/ramsunvtech/apicluster/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/ramsunvtech/apicluster/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/ramsunvtech/apicluster" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p align="center">
    <img height="240" width="235" src="https://github.com/ramsunvtech/apicluster/raw/master/api-cluster.png">
</p>

<h1>
<a id="api-cluster" class="anchor" href="#api-cluster" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Api Cluster</h1>

<p><strong>Endpoint Library</strong></p>

<p><a href="https://npmjs.org/package/apicluster"><img src="http://img.shields.io/npm/v/apicluster.svg" alt="NPM version"></a> <a href="https://npmjs.org/package/apicluster"><img src="http://img.shields.io/npm/dm/apicluster.svg" alt="Downloads"></a> <a href="https://travis-ci.org/ramsunvtech/apicluster"><img src="http://img.shields.io/travis/ramsunvtech/apicluster.svg" alt="Build Status"></a></p>



<p><a href="https://nodei.co/npm/apicluster/"><img src="https://nodei.co/npm/apicluster.png?downloads=true&amp;downloadRank=true" alt="NPM"></a></p>

<h2>
<a id="what-is-api-cluster" class="anchor" href="#what-is-api-cluster" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is API Cluster?</h2>

<p>API Cluster is free and open source Javascript library for organizing endpoint in efficient way.</p>

<h2>
<a id="why-api-cluster" class="anchor" href="#why-api-cluster" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why API Cluster?</h2>

<p>Add multiple groups for versioning.<br>
Quit messing with concatenation on URL with + operator.<br>
Available in (Node) Server side and (browser) Client Side.  </p>

<h1>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h1>

<h4>
<a id="1-install-api-cluster-globally-server-side-or-include-the-apiclusterjs-in-your-file" class="anchor" href="#1-install-api-cluster-globally-server-side-or-include-the-apiclusterjs-in-your-file" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1. Install api cluster globally (server side) or include the apicluster.js in your file.</h4>

<div class="highlight highlight-source-shell"><pre>$ npm install --global apicluster
<span class="pl-k">&lt;</span>script src=<span class="pl-s"><span class="pl-pds">"</span>ApiCluster.js<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;</span>/script<span class="pl-k">&gt;</span></pre></div>

<h4>
<a id="2-create-config-and-define-endpoints" class="anchor" href="#2-create-config-and-define-endpoints" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2. Create Config and define endpoints.</h4>

<div class="highlight highlight-source-js"><pre>ApiCluster
  .<span class="pl-en">defaults</span>({
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>mydefault<span class="pl-pds">'</span></span>,

      config<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>employee<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>emp<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>details<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>details<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span>
      },

      endpoints<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">"</span>empDetails<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>_employee_/_details_/:empId/profile<span class="pl-pds">"</span></span>
      }
  });</pre></div>

<h4>
<a id="2-add-multiple-groups" class="anchor" href="#2-add-multiple-groups" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2. Add multiple groups.</h4>

<div class="highlight highlight-source-js"><pre>ApiCluster
  .<span class="pl-en">defaults</span>({
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>mydefault<span class="pl-pds">'</span></span>,

      config<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>employee<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>emp<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>details<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>details<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span>
      },

      endpoints<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">"</span>empDetails<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>_employee_/_details_/:empId/profile<span class="pl-pds">"</span></span>
      }
  })
  .<span class="pl-en">addAnother</span>({
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>v1<span class="pl-pds">'</span></span>,

      config<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>employee<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>emp/v1<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>details<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>detailed<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span>
      },

      endpoints<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">"</span>empDetails<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>_employee_/_details_/:empId/profile<span class="pl-pds">"</span></span>
      }
  })
  .<span class="pl-en">addAnother</span>({
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>v2<span class="pl-pds">'</span></span>,

      config<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>employee<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>emp/v2<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>details<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>detailed<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span>
      },

      endpoints<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">"</span>empDetails<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>_employee_/_details_/:empId/profile<span class="pl-pds">"</span></span>
      }
  });</pre></div>

<h4>
<a id="4-get-your-dynamic-endpoint-url-from-the-configured-endpoint-list-from-defaults-method" class="anchor" href="#4-get-your-dynamic-endpoint-url-from-the-configured-endpoint-list-from-defaults-method" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>4. Get your dynamic Endpoint URL from the Configured Endpoint list from <code>defaults()</code> method.</h4>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> empDetails <span class="pl-k">=</span> ApiCluster
                  .<span class="pl-en">get</span>(<span class="pl-s"><span class="pl-pds">'</span>empDetails<span class="pl-pds">'</span></span>)
                  .<span class="pl-en">arg</span>({
                    <span class="pl-s"><span class="pl-pds">'</span>empId<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-c1">1000</span> 
                  })
                  .<span class="pl-en">query</span>({
                    <span class="pl-s"><span class="pl-pds">'</span>confirm<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>,
                    <span class="pl-s"><span class="pl-pds">'</span>testAccount<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>
                  })
                  .<span class="pl-en">url</span>();</pre></div>

<pre><code>Expected Output: emp/details/1000/profile?confirm=yes&amp;testAccount=yes
</code></pre>

<h4>
<a id="5-get-endpoint-url-from-the-configured-endpoint-list-from-v1-group-defined-in-addanother-method" class="anchor" href="#5-get-endpoint-url-from-the-configured-endpoint-list-from-v1-group-defined-in-addanother-method" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>5. Get Endpoint URL from the Configured Endpoint list from <code>v1</code> Group defined in <code>addAnother()</code> method.</h4>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> empDetails <span class="pl-k">=</span> ApiCluster
                  .<span class="pl-en">use</span>(<span class="pl-s"><span class="pl-pds">'</span>v1<span class="pl-pds">'</span></span>)
                  .<span class="pl-en">get</span>(<span class="pl-s"><span class="pl-pds">'</span>empDetails<span class="pl-pds">'</span></span>)
                  .<span class="pl-en">arg</span>({
                    <span class="pl-s"><span class="pl-pds">'</span>empId<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-c1">1000</span> 
                  })
                  .<span class="pl-en">query</span>({
                    <span class="pl-s"><span class="pl-pds">'</span>confirm<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>,
                    <span class="pl-s"><span class="pl-pds">'</span>testAccount<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>
                  })
                  .<span class="pl-en">url</span>();</pre></div>

<pre><code>Expected Output: emp/v1/detailed/1000/profile?confirm=yes&amp;testAccount=yes
</code></pre>

<h2>
<a id="example-on-how-to-use-it-in-node" class="anchor" href="#example-on-how-to-use-it-in-node" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example on how to use it in Node.</h2>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> http <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>http<span class="pl-pds">'</span></span>),
    ApiCluster <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>apicluster<span class="pl-pds">'</span></span>);

ApiCluster
  .<span class="pl-en">defaults</span>({
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>mydefault<span class="pl-pds">'</span></span>,

      config<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>employee<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>emp<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>details<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>details<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>timesheet<span class="pl-pds">'</span></span>
      },

      endpoints<span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">"</span>empDetails<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>_employee_/_details_/:empId/profile<span class="pl-pds">"</span></span>
      }
  });

<span class="pl-c">//Lets define a port we want to listen to</span>
<span class="pl-k">const</span> <span class="pl-c1">PORT</span> <span class="pl-k">=</span> <span class="pl-c1">9000</span>; 

<span class="pl-c">// Function which handles requests and send response</span>
<span class="pl-k">function</span> <span class="pl-en">handleRequest</span>(<span class="pl-smi">request</span>, <span class="pl-smi">response</span>) {
    <span class="pl-k">var</span> empDetailURL <span class="pl-k">=</span> ApiCluster
                  .<span class="pl-en">get</span>(<span class="pl-s"><span class="pl-pds">'</span>empDetails<span class="pl-pds">'</span></span>)
                  .<span class="pl-en">arg</span>({
                    <span class="pl-s"><span class="pl-pds">'</span>empId<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-c1">1000</span> 
                  })
                  .<span class="pl-en">query</span>({
                    <span class="pl-s"><span class="pl-pds">'</span>confirm<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>,
                    <span class="pl-s"><span class="pl-pds">'</span>testAccount<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>
                  })
                  .<span class="pl-en">url</span>();
    <span class="pl-smi">response</span>.<span class="pl-en">end</span>(<span class="pl-s"><span class="pl-pds">'</span>&lt;h1&gt;Generated Endpoint URL:&lt;br&gt; <span class="pl-pds">'</span></span>
        <span class="pl-k">+</span> empDetailURL <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;/h1&gt;<span class="pl-pds">'</span></span>);
}

<span class="pl-c">//Create a server</span>
<span class="pl-k">var</span> server <span class="pl-k">=</span> <span class="pl-smi">http</span>.<span class="pl-en">createServer</span>(handleRequest);

<span class="pl-c">//Lets start our server</span>
<span class="pl-smi">server</span>.<span class="pl-en">listen</span>(<span class="pl-c1">PORT</span>, <span class="pl-k">function</span>(){
    <span class="pl-c">// Callback triggered when server is successfully listening. Hurray!</span>
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">"</span>Server listening on: http://localhost:%s<span class="pl-pds">"</span></span>, <span class="pl-c1">PORT</span>);
});</pre></div>

<h2>
<a id="want-to-contribute" class="anchor" href="#want-to-contribute" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Want to contribute?</h2>

<p>Anyone can help make this project better - check out the <a href="/CONTRIBUTING.md">Contributing guide</a>!</p>

<p><a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://d2weczhvl823v0.cloudfront.net/ramsunvtech/apicluster/trend.png" alt="Bitdeli Badge"></a></p>
        </section>

        <footer>
          Apicluster is maintained by <a href="https://github.com/ramsunvtech">ramsunvtech</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
